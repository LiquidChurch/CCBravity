define(["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(c,g,A,k,p,C,f,y,B,a,q,E,x,o,b,t,d,z,D,s,w,i,m,v,n,r,h,e,u){function l(){this.reset()}l.prototype.apply=function(V){V=c.extend(true,{},this.defaults,V);if(V.dataAdapter==null){if(V.ajax!=null){V.dataAdapter=b}else{if(V.data!=null){V.dataAdapter=o}else{V.dataAdapter=x}}if(V.minimumInputLength>0){V.dataAdapter=a.Decorate(V.dataAdapter,z)}if(V.maximumInputLength>0){V.dataAdapter=a.Decorate(V.dataAdapter,D)}if(V.maximumSelectionLength>0){V.dataAdapter=a.Decorate(V.dataAdapter,s)}if(V.tags){V.dataAdapter=a.Decorate(V.dataAdapter,t)}if(V.tokenSeparators!=null||V.tokenizer!=null){V.dataAdapter=a.Decorate(V.dataAdapter,d)}if(V.query!=null){var N=g(V.amdBase+"compat/query");V.dataAdapter=a.Decorate(V.dataAdapter,N)}if(V.initSelection!=null){var U=g(V.amdBase+"compat/initSelection");V.dataAdapter=a.Decorate(V.dataAdapter,U)}}if(V.resultsAdapter==null){V.resultsAdapter=A;if(V.ajax!=null){V.resultsAdapter=a.Decorate(V.resultsAdapter,v)}if(V.placeholder!=null){V.resultsAdapter=a.Decorate(V.resultsAdapter,m)}if(V.selectOnClose){V.resultsAdapter=a.Decorate(V.resultsAdapter,h)}}if(V.dropdownAdapter==null){if(V.multiple){V.dropdownAdapter=w}else{var H=a.Decorate(w,i);V.dropdownAdapter=H}if(V.minimumResultsForSearch!==0){V.dropdownAdapter=a.Decorate(V.dropdownAdapter,r)}if(V.closeOnSelect){V.dropdownAdapter=a.Decorate(V.dropdownAdapter,e)}if(V.dropdownCssClass!=null||V.dropdownCss!=null||V.adaptDropdownCssClass!=null){var G=g(V.amdBase+"compat/dropdownCss");V.dropdownAdapter=a.Decorate(V.dropdownAdapter,G)}V.dropdownAdapter=a.Decorate(V.dropdownAdapter,n)}if(V.selectionAdapter==null){if(V.multiple){V.selectionAdapter=p}else{V.selectionAdapter=k}if(V.placeholder!=null){V.selectionAdapter=a.Decorate(V.selectionAdapter,C)}if(V.allowClear){V.selectionAdapter=a.Decorate(V.selectionAdapter,f)}if(V.multiple){V.selectionAdapter=a.Decorate(V.selectionAdapter,y)}if(V.containerCssClass!=null||V.containerCss!=null||V.adaptContainerCssClass!=null){var P=g(V.amdBase+"compat/containerCss");V.selectionAdapter=a.Decorate(V.selectionAdapter,P)}V.selectionAdapter=a.Decorate(V.selectionAdapter,B)}if(typeof V.language==="string"){if(V.language.indexOf("-")>0){var K=V.language.split("-");var M=K[0];V.language=[V.language,M]}else{V.language=[V.language]}}if(c.isArray(V.language)){var J=new q();V.language.push("en");var S=V.language;for(var I=0;I<S.length;I++){var F=S[I];var L={};try{L=q.loadPath(F)}catch(O){try{F=this.defaults.amdLanguageBase+F;L=q.loadPath(F)}catch(R){if(V.debug&&window.console&&console.warn){console.warn('Select2: The language file for "'+F+'" could not be automatically loaded. A fallback will be used instead.')}continue}}J.extend(L)}V.translations=J}else{var Q=q.loadPath(this.defaults.amdLanguageBase+"en");var T=new q(V.language);T.extend(Q);V.translations=T}return V};l.prototype.reset=function(){function G(I){function H(J){return E[J]||J}return I.replace(/[^\u0000-\u007E]/g,H)}function F(M,L){if(c.trim(M.term)===""){return L}if(L.children&&L.children.length>0){var H=c.extend(true,{},L);for(var O=L.children.length-1;O>=0;O--){var N=L.children[O];var K=F(M,N);if(K==null){H.children.splice(O,1)}}if(H.children.length>0){return H}return F(M,H)}var J=G(L.text).toUpperCase();var I=G(M.term).toUpperCase();if(J.indexOf(I)>-1){return L}return null}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:true,debug:false,dropdownAutoWidth:false,escapeMarkup:a.escapeMarkup,language:u,matcher:F,minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:false,sorter:function(H){return H},templateResult:function(H){return H.text},templateSelection:function(H){return H.text},theme:"default",width:"resolve"}};l.prototype.set=function(G,I){var F=c.camelCase(G);var H={};H[F]=I;var J=a._convertData(H);c.extend(this.defaults,J)};var j=new l();return j});