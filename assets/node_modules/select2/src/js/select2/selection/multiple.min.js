define(["jquery","./base","../utils"],function(d,a,c){function b(e,f){b.__super__.constructor.apply(this,arguments)}c.Extend(b,a);b.prototype.render=function(){var e=b.__super__.render.call(this);e.addClass("select2-selection--multiple");e.html('<ul class="select2-selection__rendered"></ul>');return e};b.prototype.bind=function(e,g){var f=this;b.__super__.bind.apply(this,arguments);this.$selection.on("click",function(h){f.trigger("toggle",{originalEvent:h})});this.$selection.on("click",".select2-selection__choice__remove",function(i){if(f.options.get("disabled")){return}var j=d(this);var h=j.parent();var k=h.data("data");f.trigger("unselect",{originalEvent:i,data:k})})};b.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()};b.prototype.display=function(h,f){var g=this.options.get("templateSelection");var e=this.options.get("escapeMarkup");return e(g(h,f))};b.prototype.selectionContainer=function(){var e=d('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>');return e};b.prototype.update=function(i){this.clear();if(i.length===0){return}var f=[];for(var k=0;k<i.length;k++){var g=i[k];var e=this.selectionContainer();var h=this.display(g,e);e.append(h);e.prop("title",g.title||g.text);e.data("data",g);f.push(e)}var j=this.$selection.find(".select2-selection__rendered");c.appendMany(j,f)};return b});