define(["jquery","../keys"],function(b,a){function c(){}c.prototype.bind=function(f,d,g){var e=this;f.call(this,d,g);if(this.placeholder==null){if(this.options.get("debug")&&window.console&&console.error){console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option.")}}this.$selection.on("mousedown",".select2-selection__clear",function(h){e._handleClear(h)});d.on("keypress",function(h){e._handleKeyboardClear(h,d)})};c.prototype._handleClear=function(f,e){if(this.options.get("disabled")){return}var i=this.$selection.find(".select2-selection__clear");if(i.length===0){return}e.stopPropagation();var h=i.data("data");for(var j=0;j<h.length;j++){var g={data:h[j]};this.trigger("unselect",g);if(g.prevented){return}}this.$element.val(this.placeholder.id).trigger("change");this.trigger("toggle",{})};c.prototype._handleKeyboardClear=function(f,e,d){if(d.isOpen()){return}if(e.which==a.DELETE||e.which==a.BACKSPACE){this._handleClear(e)}};c.prototype.update=function(f,e){f.call(this,e);if(this.$selection.find(".select2-selection__placeholder").length>0||e.length===0){return}var d=b('<span class="select2-selection__clear">&times;</span>');d.data("data",e);this.$selection.find(".select2-selection__rendered").prepend(d)};return c});